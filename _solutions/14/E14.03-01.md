---
title:       Exercise 14.3-1
published:   2025-11-16 00:00
modified:    2025-11-16 00:00
keywords:    "interval tree, rotation, augmented data structure, max attribute"
description: "Write pseudocode for LEFT-ROTATE that operates on nodes in an interval tree and updates the max attributes in O(1) time."
---

> Write pseudocode for $$\textsc{Left-Rotate}$$ that operates on nodes in an interval tree and updates the max attributes in $$O(1)$$ time.

In an interval tree, each node $$x$$ maintains $$x.max$$, the maximum endpoint of any interval in the subtree rooted at $$x$$. We have:

$$x.max = \max(x.int.high, x.left.max, x.right.max)$$

After a rotation, we need to update the max attributes for the two nodes involved in the rotation.

{% capture code %}
Left-Rotate(T, x)
    y = x.right
    x.right = y.left
    if y.left != T.nil
        y.left.p = x
    y.p = x.p
    if x.p == T.nil
        T.root = y
    elseif x == x.p.left
        x.p.left = y
    else
        x.p.right = y
    y.left = x
    x.p = y

    // Update max attributes
    x.max = max(x.int.high, x.left.max, x.right.max)
    y.max = max(y.int.high, y.left.max, y.right.max)
{% endcapture %}
{% include clrs_code.html title="Left-Rotate(T, x)" %}

{% include ads.html %}

The key observation is that after the rotation, only $$x$$ and $$y$$ have different children, so only their max attributes need updating.

**Before rotation:** $$x$$ is the parent of $$y$$, and $$y.left$$ is denoted $$\beta$$.

**After rotation:** $$y$$ is the parent of $$x$$, and $$x.right = \beta$$.

For node $$x$$ after rotation:
- Its left child is unchanged
- Its right child is now $$\beta$$ (was $$y$$)
- So $$x.max = \max(x.int.high, x.left.max, \beta.max)$$

For node $$y$$ after rotation:
- Its left child is now $$x$$ (was $$\beta$$)
- Its right child is unchanged
- So $$y.max = \max(y.int.high, x.max, y.right.max)$$

Note that we must update $$x.max$$ first (line 16), then use the new value of $$x.max$$ to compute $$y.max$$ (line 17). Each update involves three comparisons and can be done in $$O(1)$$ time.

The pseudocode for $$\textsc{Right-Rotate}$$ is symmetric, with the roles of $$x$$ and $$y$$ reversed and left/right swapped.

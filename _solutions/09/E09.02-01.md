---
title:       Exercise 9.2-1
published:   2025-11-16 10:00
modified:    2025-11-16 10:00
keywords:    "randomized select, order statistics, recursion, array bounds"
description: "Show that RANDOMIZED-SELECT never makes a recursive call to a 0-length array."
---

> Show that $$\textsc{Randomized-Select}$$ never makes a recursive call to a 0-length array.

The algorithm makes recursive calls in only two places (lines 8 and 9), and we need to show that in both cases, the subarray passed to the recursive call is non-empty.

Consider the state when $$\textsc{Randomized-Select}$$ is called on a subarray $$A[p \ldots r]$$. Line 3 partitions this array around a pivot element at position $$q$$, where $$p \le q \le r$$. Line 4 computes $$k = q - p + 1$$, which represents the number of elements in the low side of the partition plus the pivot itself.

Since the partition places the pivot at position $$q$$, we have $$p \le q \le r$$, which means $$k \ge 1$$ (there's at least the pivot element).

For the recursive call on line 8 (when $$i < k$$), the algorithm recursively searches $$A[p \ldots q-1]$$. This call only happens when $$i < k$$. Since $$i \ge 1$$ (we're looking for the $$i$$th smallest element where $$i \ge 1$$), and $$i < k = q - p + 1$$, we have $$1 \le i < q - p + 1$$, which gives $$q - p \ge i \ge 1$$, so $$q \ge p + 1$$. Therefore $$q - 1 \ge p$$, meaning $$A[p \ldots q-1]$$ contains at least one element.

For line 9 (when $$i > k$$), the algorithm recursively searches $$A[q+1 \ldots r]$$ looking for the $$(i-k)$$th smallest element. This call only happens when $$i > k$$. Since $$k = q - p + 1$$ and the original call is looking for the $$i$$th smallest in $$A[p \ldots r]$$, we know that $$1 \le i \le r - p + 1$$. If $$i > k = q - p + 1$$, then $$i \ge q - p + 2$$, which means $$q \le p + i - 2 \le p + (r - p + 1) - 2 = r - 1$$. Therefore $$q + 1 \le r$$, so $$A[q+1 \ldots r]$$ contains at least one element.

Thus, $$\textsc{Randomized-Select}$$ never makes a recursive call to a 0-length array.
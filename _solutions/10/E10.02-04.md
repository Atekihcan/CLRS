---
title:       Exercise 10.2-4
published:   2025-11-16 12:00
modified:    2025-11-16 12:00
keywords:    "linked list, sentinel, search optimization"
description: "As written, each loop iteration in the LIST-SEARCH' procedure requires two tests: one for x ≠ L.nil and one for x.key ≠ k. Show how to eliminate the test for x ≠ L.nil in each iteration."
---

> As written, each loop iteration in the $$\textsc{List-Search}'$$ procedure requires two tests: one for $$x \ne L.\textit{nil}$$ and one for $$x.\textit{key} \ne k$$. Show how to eliminate the test for $$x \ne L.\textit{nil}$$ in each iteration.

The $$\textsc{List-Search}'$$ procedure (with sentinel) performs two comparisons per iteration: checking whether we've reached the sentinel and checking whether we've found the key. We can eliminate one comparison by using a clever trick: temporarily store the search key in the sentinel.

Before searching, we set $$L.\textit{nil}.\textit{key} = k$$. This guarantees that the search will definitely find $$k$$ somewhere in the circular list (either in an actual node or in the sentinel). After the loop terminates, we check whether we found it in the sentinel or in a real node.

{% capture code %}
LIST-SEARCH''(L, k)
    // Store key in sentinel as a "stopper"
    L.nil.key = k
    x = L.nil.next
    // Only one comparison per iteration
    while x.key != k
        x = x.next
    // Check if we found k in a real node or just the sentinel
    if x == L.nil
        return NIL
    else
        return x
{% endcapture %}
{% include clrs_code.html %}

Now each iteration of the $$\textbf{while}$$ loop performs only one comparison ($$x.\textit{key} \ne k$$) instead of two. The loop must eventually terminate because the sentinel contains $$k$$, so we're guaranteed to find it.

After the loop, we check whether $$x$$ points to the sentinel. If it does, the key wasn't in the actual list. If $$x$$ points to a real node, we found the key.

This optimization reduces the number of comparisons by half in the loop, which can improve performance in practice. The technique works because the sentinel acts as a "stopper" that guarantees the loop terminates without needing an explicit check for reaching the end of the list.

{% capture note %}
This technique of placing the search key in a sentinel is sometimes called a "sentinel search" or "dummy node search." It's a classic optimization that trades a small amount of extra work (setting the sentinel's key before searching and checking after) for eliminating repeated boundary checks in the tight loop.
{% endcapture %}
{% include aside.html title='Why This Optimization Matters' %}

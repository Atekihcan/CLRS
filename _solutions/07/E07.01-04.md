---
title:       Exercise 7.1-4
published:   2025-11-16 10:00
modified:    2025-11-16 10:00
keywords:    "quicksort, sorting order, nonincreasing, algorithm modification"
description: "How would you modify QUICKSORT to sort into nonincreasing order?"
---

> How would you modify $$\textsc{Quicksort}$$ to sort into nonincreasing order?

To sort in nonincreasing (descending) order instead of nondecreasing (ascending) order, we need to change how $$\textsc{Partition}$$ divides elements around the pivot. The key is to reverse the comparison in the partitioning step.

The standard $$\textsc{Partition}$$ places elements $$\leq pivot$$ on the left and elements $$> pivot$$ on the right. For nonincreasing order, we want elements $$\geq pivot$$ on the left and elements $$< pivot$$ on the right.

This requires changing only **one character** in the $$\textsc{Partition}$$ procedure:

{% capture code %}
Partition-Descending(A, p, r)
    x = A[r]
    i = p - 1
    for j = p to r - 1
        if A[j] ≥ x          // Changed from ≤ to ≥
            i = i + 1
            exchange A[i] with A[j]
    exchange A[i + 1] with A[r]
    return i + 1
{% endcapture %}
{% include clrs_code.html title="Partition-Descending(A, p, r)" %}

The $$\textsc{Quicksort}$$ procedure itself remains completely unchanged:

{% capture code2 %}
Quicksort(A, p, r)
    if p < r
        q = Partition-Descending(A, p, r)
        Quicksort(A, p, q - 1)
        Quicksort(A, q + 1, r)
{% endcapture %}
{% include clrs_code.html title="Quicksort(A, p, r)" %}

For example, with the array $$\langle 2, 8, 7, 1, 3, 5, 6, 4 \rangle$$ and pivot 4, the modified partition places elements $$\{8, 7, 5, 6\}$$ (those $$\geq 4$$) on the left and $$\{2, 1, 3\}$$ (those $$< 4$$) on the right, with 4 in between. Recursive sorting then produces the final nonincreasing sequence $$\langle 8, 7, 6, 5, 4, 3, 2, 1 \rangle$$.

{% capture note %}
This simple modification works because quicksort's correctness depends only on the partition maintaining a consistent ordering relationship with the pivot. Whether that relationship is "$$\leq$$" or "$$\geq$$" doesn't affect the algorithm's structure or running time.
{% endcapture %}
{% include aside.html title='Why such a small change works' %}

<!DOCTYPE html>
<html lang="en">
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

    <!-- Legacy meta -->
    <meta name="description" content="[Python code] Implement both the brute-force and recursive algorithms for the maximum-subarray problem on your own computer. What problem size n0​ gives the crossover point at which the recursive algorithm beats the brute-force algorithm? Then, change the base case of the recursive algorithm to use the brute-force algorithm whenever the problem size is less than n0​. Does that change the crossover point?"/>
    <meta name="keywords" content="CLRS, solutions, algorithms, Cormen, maximum subarray,python code"/>

    <!--Schema-->
    <link rel="author" href="Atekihcan">
    <link rel="publisher" href="https://atekihcan.github.io">
    <meta itemprop="name" content="CLRS Solutions | Exercise 4.1-3 | Divide-and-Conquer"/>
    <meta itemprop="description" content="[Python code] Implement both the brute-force and recursive algorithms for the maximum-subarray problem on your own computer. What problem size n0​ gives the crossover point at which the recursive algorithm beats the brute-force algorithm? Then, change the base case of the recursive algorithm to use the brute-force algorithm whenever the problem size is less than n0​. Does that change the crossover point?"/>

    <!-- OpenGraph -->
    <meta property="og:title" content="CLRS Solutions | Exercise 4.1-3 | Divide-and-Conquer" />
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://atekihcan.github.io/CLRS/04/E04.01-03/" />
    <meta property="og:image" content="/CLRS/assets/img/04/4.1-3.jpg" />
    <meta property="og:description" content="[Python code] Implement both the brute-force and recursive algorithms for the maximum-subarray problem on your own computer. What problem size n0​ gives the crossover point at which the recursive algorithm beats the brute-force algorithm? Then, change the base case of the recursive algorithm to use the brute-force algorithm whenever the problem size is less than n0​. Does that change the crossover point?" />

    <!-- Structured Data -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "Article",
        "headline": "CLRS Solutions | Exercise 4.1-3 | Divide-and-Conquer",
        "image": [
            "/CLRS/assets/img/04/4.1-3.jpg"
        ],
        "datePublished": "2012-08-28T18:10:00+00:00",
        "dateModified": "2021-01-19T10:30:00+00:00",
        "author": {
            "@type": "Person",
            "name": "Atekihcan"
        }
    }
    </script>
    
    <title>CLRS Solutions | Exercise 4.1-3 | Divide-and-Conquer</title>

    <!-- favicon -->
    <link rel="shortcut icon" type="image/png" href="/CLRS/assets/img/favicon.png">

    <!-- Normalize reset -->
    <link media="all" rel="stylesheet" href="/CLRS/assets/css/normalize.css">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- Katex -->
    <link rel="stylesheet" href="/CLRS/assets/katex/katex.min.css" >
    <script defer src="/CLRS/assets/katex/katex.min.js" ></script>
    <script defer src="/CLRS/assets/katex/contrib/auto-render.min.js" onload="renderMathInElement(document.body, {trust: true});"></script>

    <!-- Google Analytics -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-57470252-4"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-57470252-4', {
            cookie_domain: 'https://atekihcan.github.io',
            cookie_flags: 'SameSite=None;Secure'
        });
    </script>

    <!-- Load site specific stuff at last -->
    <link media="all" rel="stylesheet" href="/CLRS/assets/css/site.css">
    <link media="all" rel="stylesheet" href="/CLRS/assets/css/syntax_highlight.css">

    <script defer src="/CLRS/assets/js/site.js" ></script>
</head>
    <body class="site-body">
        <header class="site-header">
    <nav>
        <i class="fa fa-database"></i>&nbsp;&nbsp;<a href="/CLRS/">Solutions for CLRS</a>&nbsp;&nbsp;<i class="fa fa-database"></i>
    </nav>
    <h1 class="page-title">
        Exercise 4.1-3
    </h1>
</header>
        <main class="site-main">
            <article>
    <div class="article-content">
        <blockquote>
  <p>Implement both the brute-force and recursive algorithms for the maximum-subarray problem on your own computer. What problem size \(n_0\) gives the crossover point at which the recursive algorithm beats the brute-force algorithm? Then, change the base case of the recursive algorithm to use the brute-force algorithm whenever the problem size is less than \(n_0\). Does that change the crossover point?</p>
</blockquote>

<p>Both the algorithms were developed on my system in C++ (code can be downloaded from <a href="/CLRS/assets/code/E413.cpp" title="C++ code for maximum subarray run time analysis" target="_blank">here</a>). You can also find an embedded Python code that you can run directly from your browser at the <a href="#code-editor">bottom of the page</a>.</p>

<p>The data collected is as follows (size is the number of elements processed and run times are in micro seconds):</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Size</th>
      <th style="text-align: center">BruteForce</th>
      <th style="text-align: center">Recursive</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">20</td>
      <td style="text-align: center">1.1573</td>
      <td style="text-align: center">1.3096</td>
    </tr>
    <tr>
      <td style="text-align: center">21</td>
      <td style="text-align: center">1.1346</td>
      <td style="text-align: center">1.3642</td>
    </tr>
    <tr>
      <td style="text-align: center">22</td>
      <td style="text-align: center">1.2318</td>
      <td style="text-align: center">1.3632</td>
    </tr>
    <tr>
      <td style="text-align: center">23</td>
      <td style="text-align: center">1.3214</td>
      <td style="text-align: center">1.4604</td>
    </tr>
    <tr>
      <td style="text-align: center">24</td>
      <td style="text-align: center">1.4080</td>
      <td style="text-align: center">1.5070</td>
    </tr>
    <tr>
      <td style="text-align: center">25</td>
      <td style="text-align: center">1.4860</td>
      <td style="text-align: center">1.6002</td>
    </tr>
    <tr>
      <td style="text-align: center">26</td>
      <td style="text-align: center">1.6113</td>
      <td style="text-align: center">1.6982</td>
    </tr>
    <tr>
      <td style="text-align: center">27</td>
      <td style="text-align: center">1.7965</td>
      <td style="text-align: center">1.8065</td>
    </tr>
    <tr>
      <td style="text-align: center"><strong>28</strong></td>
      <td style="text-align: center"><strong>1.8434</strong></td>
      <td style="text-align: center"><strong>1.8172</strong></td>
    </tr>
    <tr>
      <td style="text-align: center">29</td>
      <td style="text-align: center">2.1403</td>
      <td style="text-align: center">1.9220</td>
    </tr>
    <tr>
      <td style="text-align: center">30</td>
      <td style="text-align: center">2.0902</td>
      <td style="text-align: center">1.9593</td>
    </tr>
    <tr>
      <td style="text-align: center">31</td>
      <td style="text-align: center">2.2252</td>
      <td style="text-align: center">2.0011</td>
    </tr>
    <tr>
      <td style="text-align: center">32</td>
      <td style="text-align: center">2.3875</td>
      <td style="text-align: center">2.1071</td>
    </tr>
  </tbody>
</table>

<p>So, on my computer \(n_0 = 28\).</p>

<p>However, it varies between 25 and 30 in different runs.</p>

<hr />

<p>If we modify the the base case of the recursive algorithm to use the brute-force algorithm whenever the problem size is less than \(n_0\), the crossover point doesn’t change significantly.</p>

<p>However, in most cases, I have noticed there is not a single crossover point. Let’s say, recursive beats brute-force at \(n = 22\), but immediately after that (\(n = 23, 24\)) brute-force beats recursive, and then recursive beats brute-force again for \(n = 25\).</p>

<script>
     function showSupportMessage() {
          var placeholders = document.getElementsByClassName("support-message");
          console.log(placeholders);
          for (var i = 0; i < placeholders.length; i++) {
               placeholders[i].style.display = "block";
          }
     }
</script>

<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" onerror="showSupportMessage();"></script>

<!-- Display_Horizontal -->
<p><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7476503486911097" data-ad-slot="5416910574" data-ad-format="auto" data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></p>
<aside class="support-message">
     <header>Looks like you hate ads as much as I do!</header>
     <section>
     <p>And there is nothing wrong with that! However, the ads on this website are unobtrusive and used as section divider. It'd be great if you can whitelist this website from your adblocker and give it a try. If you don't like the experience, you can always turn it back on.</p>
     
     <p>Either way try to leave a message in the <a href="#disqus_thread">comments section</a> to show some support.</p>
     </section>
</aside>

<hr />

<aside id="a-note-on-processing-power" class="info">
    <h4>A note on processing power </h4>
    <div>
<p>Previous iteration of this post, around 2015, when I was using Intel i5 3570K (4 cores @3.4 GHz), had \(n_0 = 17\).</p>

<p>Now in 2021, I’m using AMD Ryzen 1600 (6 cores @3.2GHz) along with many other system upgrades like better RAM, cache size etc. (also <span class="rainbow">RGB</span>) and \(n_0 = 28\).</p>

<p>This clearly shows the increase in raw computation power of my system as it has pushed the performance of brute force algorithm.</p>
</div>
</aside>

<h4 id="python-code">Python Code</h4>

<script src="/CLRS/assets/js/skulpt.min.js" type="text/javascript"></script>

<script src="/CLRS/assets/js/skulpt-stdlib.js" type="text/javascript"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/ace.min.js" integrity="sha512-GoORoNnxst42zE3rYPj4bNBm0Q6ZRXKNH2D9nEmNvVF/z24ywVnijAWVi/09iBiVDQVf3UlZHpzhAJIdd9BXqw==" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/mode-python.min.js" integrity="sha512-2Ke4vMGrMfYRM55pT1aA5bw7Pl82Sc7K5Hg8XZYZu+EQrb0AO1mNYTagwZm+MFVAImYS9Mlnm73zcgc01wPXxA==" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.12/theme-nord_dark.min.js" integrity="sha512-Yrb8fdpeml10Onax7VERUl9ea2bAU/OPQ3IASUNqed9o+EotsVU9L4mgB4jXZQWDjav4VD2HSjiWlwOmfKeJRQ==" crossorigin="anonymous"></script>

<script>
    // Output functions are configurable
    // This one just appends some text to a pre element
    function prependOut(text) {
        var output = document.getElementById("code-editor-output");
        output.innerHTML = output.innerHTML + text;
    }

    function builtinRead(x) {
        if (Sk.builtinFiles === undefined || Sk.builtinFiles["files"][x] === undefined) 
            throw "File not found: '" + x + "'";
        return Sk.builtinFiles["files"][x];
    }

    // Grab the code, get a reference to output
    // configure the output function and call Sk.importMainWithBody()
    function runCode() {
        // Get code from Ace editor and clear output
        var prog = (editor.getValue());
        var output = document.getElementById("code-editor-output");
        output.innerHTML = '';

        Sk.pre = "output";
        Sk.configure({output: prependOut, read: builtinRead, __future__: Sk.python3});
        var myPromise = Sk
            .misceval
            .asyncToPromise(function () {
                return Sk.importMainWithBody("<stdin>", false, prog, true);
            });
        myPromise.then(function (mod) {
            output.style.color = "#d8dee9";
            console.log('success');
        }, function (err) {
            output.style.color = "#f00";
            output.innerHTML = err.toString();
            console.log(err.toString());
        });
    }
</script>

<div class="code-editor-wrapper">
    <div id="code-editor">import math
import time
import random

# Brute force method
def FindMaxSubarrayBruteForce(A, low, high):
    left = low
    right = high
    sum = -math.inf
    for i in range(low, high):
        tempSum = 0
        for j in range(i, high):
            tempSum = tempSum + A[j]
            if tempSum &gt; sum:
                sum = tempSum
                left = i
                right = j
    return (left, right, sum)

# Method for finding crossing maximum sub-array
def FindMaxCrossingSubarray(A, low, mid, high):
    left = low
    right = high
    leftSum = -math.inf
    rightSum = -math.inf
    sum = 0
    for i in reversed(range(low, mid)):
        sum += A[i]
        if sum &gt; leftSum:
            leftSum = sum
            left = i

    sum = 0
    for j in range(mid, high):
        sum += A[j]
        if sum &gt; rightSum:
            rightSum = sum
            right = j

    return (left, right, leftSum + rightSum)

# Recursive method
def FindMaxSubarrayRecursive(A, low, high):
    if low + 1 == high:
        return (low, low, A[low])

    mid = (low + high) // 2
    left = FindMaxSubarrayRecursive(A, low, mid)
    right = FindMaxSubarrayRecursive(A, mid, high)
    cross = FindMaxCrossingSubarray(A, low, mid, high)
    if left[2] &gt;= right[2] and left[2] &gt;= cross[2]:
        return left
    elif right[2] &gt;= left[2] and right[2] &gt;= cross[2]:
        return right
    else:
        return cross

# Number of iterations to run the algorithms to average out
# Note: If you run this on your computer, use higher values like 1000 or more
# For browser, it is kept lower so that it doesn't hang your browser
NUM_ITERATIONS = 10

# Test with some randomly created array with increasing input size
# We are explicitly starting from size 2, as for size 1, obviously recursive will be faster
# as it doesn't do anything and return the element directly
for input_size in range(2, 100):
    arr = [random.randint(-100, 100) for _ in range(input_size)]
    
    # Run brute force method and measure time
    start = time.time()
    for _ in range(NUM_ITERATIONS):
        bf = FindMaxSubarrayBruteForce(arr, 0, len(arr))
    bf_time = time.time() - start
    
    # Run recursive method and measure time
    start = time.time()
    for _ in range(NUM_ITERATIONS):
        rc = FindMaxSubarrayRecursive(arr, 0, len(arr))
    rc_time = time.time() - start
  
    if bf_time &gt; rc_time:
        print(f"Cross over point = {input_size}")
        break</div>
    <script>
        var editor = ace.edit("code-editor");
        editor
            .renderer
            .setShowGutter(true);
        editor
            .session
            .setMode("ace/mode/python");
        editor.setTheme("ace/theme/nord_dark");
        editor.setFontSize("16px");
        editor
            .renderer
            .setScrollMargin(15, 15)
        editor.setOptions({autoScrollEditorIntoView: true, minLines: 8, maxLines: 20});
        document.getElementById('code-editor').style.fontFamily = "'Courier New', Courier, monospace";
        var code = editor.getValue();

        function resetCode() {
            editor.setValue(code, 1);
            var output = document.getElementById("code-editor-output");
            output.innerHTML = "";
        }
    </script>
    <pre id="code-editor-output" class="code-editor-output"></pre>
    <div class="code-editor-buttons">
        <button class="code-editor-button" type="button" onclick="runCode()">Run</button>
        <button class="code-editor-button" type="button" onclick="resetCode()">Reset</button>
    </div>
</div>

    </div>
    <hr class="solid"/>
    <div class="article-footer">
        <div class="article-footer-message">
    <span style="font-size: 0.8em;">If you have any question or suggestion or you have found any error in this solution, please leave a comment below.</span>
</div>
        <div class="article-nav">
    <div class="article-nav-left">
        
            <a href="/CLRS/04/E04.01-02/">
                <i class="fa fa-2x fa-arrow-left"></i>
            </a>
            <span><strong>E 4.1-2</strong></span>
        
    </div>
    <div class="article-nav-middle">
        <a href="/CLRS/">
            <strong>Solution Index</strong>
        </a>
    </div>
    <div class="article-nav-right">
        
            <span><strong>E 4.1-4</strong></span>
            <a href="/CLRS/04/E04.01-04/">
                <i class="fa fa-2x fa-arrow-right"></i>
            </a>
        
    </div>
</div>



<script>
     function showSupportMessage() {
          var placeholders = document.getElementsByClassName("support-message");
          console.log(placeholders);
          for (var i = 0; i < placeholders.length; i++) {
               placeholders[i].style.display = "block";
          }
     }
</script>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" onerror="showSupportMessage();"></script>

<!-- Display_Horizontal -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-7476503486911097"
     data-ad-slot="5416910574"
     data-ad-format="auto"
     data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<aside class="support-message">
     <header>Looks like you hate ads as much as I do!</header>
     <section>
     <p>And there is nothing wrong with that! However, the ads on this website are unobtrusive and used as section divider. It'd be great if you can whitelist this website from your adblocker and give it a try. If you don't like the experience, you can always turn it back on.</p>
     
     <p>Either way try to leave a message in the <a href="#disqus_thread">comments section</a> to show some support.</p>
     </section>
</aside>

    </div>
</article>

<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_observer = new IntersectionObserver(function (entries) {
        // comments section reached
        // start loading Disqus now
        if (entries[0].isIntersecting) {
            var disqus_shortname = 'atekihcan';
            var disqus_identifier = '/CLRS/04/E04.01-03/';
            var disqus_title = 'Exercise 4.1-3';
            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();

            // once executed, stop observing
            disqus_observer.disconnect();
        }
    }, {threshold: [0]});
    disqus_observer.observe(document.querySelector("#disqus_thread"));
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
        </main>
        <footer class="site-footer">
    <div>
        &copy; Atekihcan 2007 - 2023
    </div>
</footer>

<script>
    // Left align KaTeX for pseudo codes
    document.addEventListener("DOMContentLoaded", function() { 
        var docs = document.querySelectorAll('.latex-pseudo-code > span > span');
        for (var i = 0; i < docs.length; i++) {
            docs[i].classList.add('fleqn');
        }
    });
</script>

    </body>
</html>
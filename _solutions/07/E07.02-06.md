---
title:       Exercise 7.2-6
published:   2025-11-16 10:00
modified:    2025-11-16 10:00
keywords:    "quicksort, probability, balanced partitions, analysis"
description: "Argue that for any constant 0 < α ≤ 1/2, the probability is approximately 1 - 2α that on a random input array, PARTITION produces a split more balanced than 1-α to α."
---

> Argue that for any constant $$0 < \alpha \leq 1/2$$, the probability is approximately $$1 - 2\alpha$$ that on a random input array, $$\textsc{Partition}$$ produces a split more balanced than $$1-\alpha$$ to $$\alpha$$.

When we partition a random array, the pivot is equally likely to be any of the $$n$$ elements. A split is "more balanced than $$1-\alpha$$ to $$\alpha$$" when the pivot is not one of the extreme elements that would create a very unbalanced partition.

Think of the sorted order of elements as positions from 1 to $$n$$. If the pivot is the $$i$$-th smallest element, the partition creates subarrays of sizes $$i-1$$ and $$n-i$$.

**What makes a partition worse than $$1-\alpha$$ to $$\alpha$$?**

A partition is *worse* than (more unbalanced than) $$1-\alpha$$ to $$\alpha$$ when one side has fewer than $$\alpha n$$ elements. This happens when:
- The pivot is one of the smallest $$\alpha n$$ elements (creating a left partition with fewer than $$\alpha n$$ elements), or
- The pivot is one of the largest $$\alpha n$$ elements (creating a right partition with fewer than $$\alpha n$$ elements).

Since $$\alpha \leq 1/2$$, these two ranges don't overlap. The "bad" pivots are:
- The smallest $$\alpha n$$ elements (positions 1 through $$\alpha n$$)
- The largest $$\alpha n$$ elements (positions $$(1-\alpha)n + 1$$ through $$n$$)

The total number of bad pivot choices is approximately $$\alpha n + \alpha n = 2\alpha n$$.

**Probability of a good split:**

Since the pivot is chosen uniformly at random from $$n$$ elements, and approximately $$2\alpha n$$ choices lead to bad splits:

$$\begin{align*}
\Pr[\text{good split}] &= 1 - \Pr[\text{bad split}] \\
                       &= 1 - \frac{2\alpha n}{n} \\
                       &= 1 - 2\alpha
\end{align*}$$

**Example:** With $$\alpha = 1/10$$ (meaning we want a split at least as balanced as 9-to-1):
- Bad splits occur when the pivot is in the smallest 10% or largest 10%
- Good splits occur when the pivot is in the middle 80%
- Probability of a good split: $$1 - 2(1/10) = 0.8 = 80\%$$

This result shows that balanced partitions are actually quite likely. Even requiring a fairly balanced split (say, 9-to-1), we still get a good partition 80% of the time. This is why randomized quicksort performs well in practice.

{% capture note %}
This analysis reveals an important insight: quicksort doesn't need perfectly balanced partitions to achieve $$O(n \lg n)$$ performance. As long as we avoid the worst 20% (or $$2\alpha$$ fraction) of possible pivots, we get constant-proportion splits that lead to logarithmic depth, which is sufficient for $$O(n \lg n)$$ expected running time.
{% endcapture %}
{% include aside.html title='Good enough is good enough' %}

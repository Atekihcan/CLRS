---
title:       Exercise 7.2-3
published:   2025-11-16 10:00
modified:    2025-11-16 10:00
keywords:    "quicksort, worst-case, decreasing order, sorted input"
description: "Show that the running time of QUICKSORT is Θ(n²) when the array A contains distinct elements and is sorted in decreasing order."
---

> Show that the running time of $$\textsc{Quicksort}$$ is $$\Theta(n^2)$$ when the array $$A$$ contains distinct elements and is sorted in decreasing order.

When the array is sorted in decreasing order, quicksort's standard partitioning creates maximally unbalanced splits at every level of recursion, leading to quadratic running time.

Consider an array sorted in decreasing order, say $$\langle 10, 8, 6, 4, 2 \rangle$$. The $$\textsc{Partition}$$ procedure selects the last element as the pivot. In this case, the pivot 2 is the smallest element in the array.

During partitioning, we compare each element $$A[j]$$ with the pivot $$x = 2$$. Since the array is in decreasing order and all elements before position $$r$$ are greater than 2, every comparison $$A[j] \leq x$$ evaluates to false. The index $$i$$ remains at $$p - 1$$ throughout the entire loop, and no swaps occur within the loop.

After the loop completes, the final swap in line 7 exchanges $$A[i+1] = A[p]$$ with $$A[r]$$. This places the pivot at position $$p$$ and returns $$q = p$$, creating two subarrays:

- Left subarray $$A[p..q-1]$$: empty (size 0)
- Right subarray $$A[q+1..r]$$: contains $$n-1$$ elements

The right subarray $$A[p+1..r]$$ still contains elements in decreasing order (since we only moved the smallest element to the front). The same unbalanced partitioning repeats at each recursive level.

The recurrence relation is:

$$T(n) = T(0) + T(n-1) + \Theta(n) = T(n-1) + \Theta(n)$$

This expands to:

$$\begin{align*}
T(n) &= \Theta(n) + \Theta(n-1) + \Theta(n-2) + \cdots + \Theta(1) \\
     &= \Theta(1 + 2 + 3 + \cdots + n) \\
     &= \Theta(n^2)
\end{align*}$$

{% capture note %}
Interestingly, an array sorted in *increasing* order also causes $$\Theta(n^2)$$ behavior, but for a different reason. With increasing order, the pivot is the *largest* element, creating an empty right subarray and a left subarray of size $$n-1$$. Both sorted orders are worst-case inputs for the standard quicksort implementation.
{% endcapture %}
{% include aside.html title='Increasing vs. decreasing order' %}

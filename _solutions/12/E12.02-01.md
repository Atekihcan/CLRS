---
title:       Exercise 12.2-1
published:   2025-11-16 10:00
modified:    2025-11-16 10:00
keywords:    "binary search tree, tree search, search path"
description: "Suppose that we have numbers between 1 and 1000 in a binary search tree, and we want to search for the number 363. Which of the following sequences could not be the sequence of nodes examined?"
---

> Suppose that we have numbers between 1 and 1000 in a binary search tree, and we want to search for the number 363. Which of the following sequences could *not* be the sequence of nodes examined?
>
> 1. 2, 252, 401, 398, 330, 344, 397, 363.
> 2. 924, 220, 911, 244, 898, 258, 362, 363.
> 3. 925, 202, 911, 240, 912, 245, 363.
> 4. 2, 399, 387, 219, 266, 382, 381, 278, 363.
> 5. 935, 278, 347, 621, 299, 392, 358, 363.

In a binary search tree search, each node we examine determines whether we go left or right based on comparisons with the target key (363). Once we go left from a node, we can never encounter a key larger than that node again. Similarly, once we go right from a node, we can never encounter a key smaller than that node again.

This gives us invariants: the sequence must respect a valid search path where:
- When we examine a node $$x$$ and $$363 < x.\textit{key}$$, we go left, so all subsequent nodes must be $$< x.\textit{key}$$
- When we examine a node $$x$$ and $$363 > x.\textit{key}$$, we go right, so all subsequent nodes must be $$> x.\textit{key}$$

Let me check each sequence:

**Sequence (a): 2, 252, 401, 398, 330, 344, 397, 363**

- Start at 2: $$363 > 2$$, go right ✓
- At 252: $$363 > 252$$, go right ✓
- At 401: $$363 < 401$$, go left (all subsequent must be $$< 401$$) ✓
- At 398: $$363 < 398 < 401$$, go left ✓
- At 330: $$363 > 330$$, go right (all subsequent must be $$< 401$$) ✓
- At 344: $$363 > 344 < 401$$, go right ✓
- At 397: $$363 < 397 < 401$$, go left ✓
- At 363: Found ✓

Valid sequence ✓

**Sequence (b): 924, 220, 911, 244, 898, 258, 362, 363**

- Start at 924: $$363 < 924$$, go left (all subsequent must be $$< 924$$) ✓
- At 220: $$363 > 220 < 924$$, go right ✓
- At 911: $$363 < 911 < 924$$, go left ✓
- At 244: $$363 > 244$$, go right (all subsequent must be $$< 911$$) ✓
- At 898: $$363 < 898 < 911$$, but we went right from 244 where $$244 < 363$$, so all subsequent must be $$> 244$$. We have $$898 > 244$$ ✓
- At 258: $$363 > 258$$, go right (all subsequent must be $$< 898$$) ✓
- At 362: $$363 > 362 < 898$$, go right ✓
- At 363: Found ✓

Valid sequence ✓

**Sequence (c): 925, 202, 911, 240, 912, 245, 363**

- Start at 925: $$363 < 925$$, go left (all subsequent must be $$< 925$$) ✓
- At 202: $$363 > 202 < 925$$, go right ✓
- At 911: $$363 < 911 < 925$$, go left ✓
- At 240: $$363 > 240$$, go right (all subsequent must be $$< 911$$) ✓
- At 912: $$912 > 911$$, but we went left from 911, so all subsequent must be $$< 911$$ ✗

**Invalid!** After going left from 911, we cannot encounter 912.

**Sequence (d): 2, 399, 387, 219, 266, 382, 381, 278, 363**

- Start at 2: $$363 > 2$$, go right ✓
- At 399: $$363 < 399$$, go left (all subsequent must be $$< 399$$) ✓
- At 387: $$363 < 387 < 399$$, go left ✓
- At 219: $$363 > 219$$, go right (all subsequent must be $$< 387$$) ✓
- At 266: $$363 > 266 < 387$$, go right ✓
- At 382: $$363 < 382 < 387$$, go left ✓
- At 381: $$363 < 381 < 382$$, go left ✓
- At 278: $$363 > 278$$, go right (all subsequent must be $$< 381$$) ✓
- At 363: $$278 < 363 < 381$$ ✓

Valid sequence ✓

**Sequence (e): 935, 278, 347, 621, 299, 392, 358, 363**

- Start at 935: $$363 < 935$$, go left (all subsequent must be $$< 935$$) ✓
- At 278: $$363 > 278$$, go right ✓
- At 347: $$363 > 347$$, go right ✓
- At 621: $$363 < 621 < 935$$, go left ✓
- At 299: $$363 > 299$$, go right (all subsequent must be $$< 621$$) ✓
- At 392: $$363 < 392 < 621$$, go left ✓
- At 358: $$363 > 358$$, go right (all subsequent must be $$< 392$$) ✓
- At 363: $$358 < 363 < 392$$ ✓

Valid sequence ✓

**Answer:** Sequence **(c)** could not be the sequence of nodes examined because after going left from 911, we cannot encounter 912 (which is greater than 911).
